åŽŸæ–‡é“¾æŽ¥ï¼š[https://juejin.cn/post/6844903844745330695](https://juejin.cn/post/6844903844745330695)
## å‰ç«¯å¼€å‘æ¨¡å¼çš„æ¼”è¿›
é¦–å…ˆå›žé¡¾ä¸€ä¸‹å‰ç«¯å¼€å‘æ¨¡å¼çš„æ¼”è¿›ï¼Œæˆ‘è§‰å¾—ä¸»è¦æœ‰å››ä¸ªé˜¶æ®µã€‚

1. åŸºäºŽæ¨¡æ¿æ¸²æŸ“çš„åŠ¨æ€é¡µé¢
2. åŸºäºŽ AJAX çš„å‰åŽç«¯åˆ†ç¦»
3. åŸºäºŽ Node.js çš„å‰ç«¯å·¥ç¨‹åŒ–
4. åŸºäºŽ Node.js çš„å…¨æ ˆå¼€å‘
### åŸºäºŽæ¨¡æ¿æ¸²æŸ“çš„åŠ¨æ€é¡µé¢
åœ¨æ—©èµ·çš„äº’è”ç½‘æ—¶ä»£ï¼Œæˆ‘ä»¬çš„ç½‘é¡µå¾ˆç®€å•ï¼Œå°±æ˜¯ä¸€äº›é™æ€æˆ–åŠ¨æ€çš„é¡µé¢ï¼Œä¸»è¦ç›®çš„æ˜¯ç”¨æ¥åšä¿¡æ¯çš„å±•ç¤ºå’Œä¼ æ’­ã€‚è¿™ä¸ªæ—¶å€™å¼€å‘ä¸€ä¸ªç½‘é¡µä¹Ÿå¾ˆå®¹æ˜“ï¼Œä¸»è¦å°±æ˜¯é€šè¿‡ JSPã€PHP ç­‰æŠ€æœ¯å†™ä¸€äº›åŠ¨æ€æ¨¡æ¿ï¼Œç„¶åŽé€šè¿‡ Web Server å°†æ¨¡æ¿è§£æžæˆä¸€ä¸ªä¸ª HTML æ–‡ä»¶ï¼Œæµè§ˆå™¨åªè´Ÿè´£æ¸²æŸ“è¿™äº› HTML æ–‡ä»¶ã€‚è¿™ä¸ªé˜¶æ®µè¿˜æ²¡æœ‰å‰åŽç«¯çš„åˆ†å·¥ï¼Œé€šå¸¸æ˜¯åŽç«¯å·¥ç¨‹å¸ˆé¡ºä¾¿å†™äº†å‰ç«¯é¡µé¢ã€‚
### åŸºäºŽ AJAX çš„å‰åŽç«¯åˆ†ç¦»
2005 å¹´ AJAX æŠ€æœ¯çš„æ­£å¼æå‡ºï¼Œç¿»å¼€äº† Web å¼€å‘çš„æ–°ç¯‡ç« ã€‚åŸºäºŽ AJAXï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ Web åˆ†ä¸ºå‰ç«¯å’ŒåŽç«¯ï¼Œå‰ç«¯è´Ÿè´£ç•Œé¢å’Œäº¤äº’ï¼ŒåŽç«¯è´Ÿè´£ä¸šåŠ¡é€»è¾‘çš„å¤„ç†ã€‚å‰åŽç«¯é€šè¿‡æŽ¥å£è¿›è¡Œæ•°æ®äº¤äº’ã€‚æˆ‘ä»¬ä¹Ÿä¸å†éœ€è¦åœ¨å„ä¸ªåŽç«¯è¯­è¨€é‡Œé¢å†™ç€éš¾ä»¥ç»´æŠ¤çš„ HTMLã€‚ç½‘é¡µçš„å¤æ‚åº¦ä¹Ÿç”±åŽç«¯çš„ Web Server è½¬å‘äº†æµè§ˆå™¨ç«¯çš„ JavaScriptã€‚ä¹Ÿæ­£å› å¦‚æ­¤ï¼Œå¼€å§‹æœ‰äº†å‰ç«¯å·¥ç¨‹å¸ˆè¿™ä¸ªèŒä½ã€‚
### åŸºäºŽ Node.js çš„å‰ç«¯å·¥ç¨‹åŒ–
2009å¹´ Node.js çš„å‡ºçŽ°ï¼Œå¯¹äºŽå‰ç«¯å·¥ç¨‹å¸ˆæ¥è¯´ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåŽ†å²æ€§çš„æ—¶åˆ»ã€‚éšç€ Node.js ä¸€åŒå‡ºçŽ°çš„è¿˜æœ‰ CommonJS è§„èŒƒå’Œ npm åŒ…ç®¡ç†æœºåˆ¶ã€‚éšåŽä¹Ÿå‡ºçŽ°äº† Gruntã€Gulpã€Webpack ç­‰ä¸€ç³»åˆ—åŸºäºŽ Node.js çš„å‰ç«¯å¼€å‘æž„å»ºå·¥å…·ã€‚
åœ¨ 2013 å¹´å‰åŽï¼Œå‰ç«¯ä¸‰å¤§æ¡†æž¶ React.js/Angular/Vue.js ç›¸ç»§å‘å¸ƒç¬¬ä¸€ä¸ªç‰ˆæœ¬ã€‚æˆ‘ä»¬å¯ä»¥ä»Žä»¥å¾€åŸºäºŽä¸€ä¸ªä¸ªé¡µé¢çš„å¼€å‘ï¼Œå˜ä¸ºåŸºäºŽä¸€ä¸ªä¸ªç»„ä»¶è¿›è¡Œå¼€å‘ã€‚å¼€å‘å®ŒæˆåŽä½¿ç”¨ webpack ç­‰å·¥å…·è¿›è¡Œæ‰“åŒ…æž„å»ºï¼Œå¹¶é€šè¿‡åŸºäºŽ Node.js å®žçŽ°çš„å‘½ä»¤è¡Œå·¥å…·å°†æž„å»ºç»“æžœå‘å¸ƒä¸Šçº¿ã€‚å‰ç«¯å¼€å‘å¼€å§‹å˜å¾—è§„èŒƒåŒ–ã€æ ‡å‡†åŒ–ã€å·¥ç¨‹åŒ–ã€‚
### åŸºäºŽ Node.js çš„å…¨æ ˆå¼€å‘
Node.js å¯¹å‰ç«¯çš„é‡è¦æ„ä¹‰è¿˜æœ‰ï¼Œä»¥å¾€åªèƒ½è¿è¡Œåœ¨æµè§ˆå™¨ä¸­çš„ JavaScript ä¹Ÿå¯ä»¥è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šï¼Œå‰ç«¯å·¥ç¨‹å¸ˆå¯ä»¥ç”¨è‡ªå·±æœ€ç†Ÿæ‚‰çš„è¯­è¨€æ¥å†™æœåŠ¡ç«¯çš„ä»£ç ã€‚äºŽæ˜¯å‰ç«¯å·¥ç¨‹å¸ˆå¼€å§‹ä½¿ç”¨ Node.js åšå…¨æ ˆå¼€å‘ï¼Œå¼€å§‹ç”±å‰ç«¯å·¥ç¨‹å¸ˆå‘å…¨æ ˆå·¥ç¨‹å¸ˆçš„æ–¹å‘è½¬å˜ã€‚è¿™æ˜¯å‰ç«¯ä¸»åŠ¨çªç ´è‡ªå·±çš„è¾¹ç•Œã€‚
å¦ä¸€æ–¹é¢ï¼Œå‰ç«¯åœ¨å‘å±•ï¼ŒåŽç«¯ä¹Ÿåœ¨å‘å±•ã€‚ä¹Ÿå·®ä¸å¤šåœ¨ Node.js è¯žç”Ÿé‚£ä¸ªæ—¶ä»£ï¼ŒåŽç«¯æ™®éå¼€å§‹ç”±å·¨çŸ³åº”ç”¨æ¨¡å¼ç”±å¾®æœåŠ¡æž¶æž„è½¬å˜ã€‚è¿™ä¹Ÿå°±å¯¼è‡´ä»¥å¾€çš„å‰åŽç«¯åˆ†å·¥å‡ºçŽ°äº†åˆ†æ­§ã€‚éšç€å¾®æœåŠ¡æž¶æž„çš„å…´èµ·ï¼ŒåŽç«¯çš„æŽ¥å£æ¸æ¸å˜å¾—åŽŸå­æ€§ï¼Œå¾®æœåŠ¡çš„æŽ¥å£ä¹Ÿä¸å†ç›´æŽ¥é¢å‘é¡µé¢ï¼Œå‰ç«¯çš„è°ƒç”¨å˜å¾—å¤æ‚äº†ã€‚äºŽæ˜¯ BFFï¼ˆBackend For Frontendï¼‰æž¶æž„åº”è¿è€Œç”Ÿï¼Œåœ¨å¾®æœåŠ¡å’Œå‰ç«¯ä¸­é—´ï¼ŒåŠ äº†ä¸€ä¸ª BFF å±‚ï¼Œç”± BFF å¯¹æŽ¥å£è¿›è¡Œèšåˆã€è£å‰ªåŽï¼Œå†è¾“å‡ºç»™å‰ç«¯ã€‚è€Œ BFF è¿™å±‚ä¸æ˜¯åŽç«¯æœ¬è´¨å·¥ä½œï¼Œä¸”è·ç¦»å‰ç«¯æœ€è¿‘å’Œå‰ç«¯å…³ç³»æœ€å¤§ï¼Œæ‰€ä»¥å‰ç«¯å·¥ç¨‹å¸ˆè‡ªç„¶è€Œç„¶é€‰æ‹©äº† Node.js æ¥å®žçŽ°ã€‚è¿™ä¹Ÿæ˜¯å½“å‰ Node.js åœ¨æœåŠ¡ç«¯è¾ƒä¸ºå¹¿æ³›çš„åº”ç”¨ã€‚
### ä¸‹ä¸€ä»£å‰ç«¯å¼€å‘æ¨¡å¼
å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸€æ¬¡å‰ç«¯å¼€å‘æ¨¡å¼çš„å˜åŒ–ï¼Œéƒ½å› æŸä¸ªå˜é©æ€§çš„æŠ€æœ¯è€Œèµ·ã€‚å…ˆæ˜¯ AJAXï¼Œè€ŒåŽæ˜¯ Node.jsã€‚é‚£ä¹ˆä¸‹ä¸€ä¸ªå˜é©æ€§çš„æŠ€æœ¯æ˜¯ä»€ä¹ˆï¼Ÿä¸è¨€è€Œå–»ï¼Œå°±æ˜¯ Serverlessã€‚
## åŸºäºŽ Serverless çš„å‰ç«¯å¼€å‘æ¨¡å¼
åœ¨æœ¬ç« èŠ‚ï¼Œä¸»è¦ä»¥å‡ ä¸ªæ¡ˆä¾‹æ¥è¯´æ˜ŽåŸºäºŽ Serverless çš„å‰ç«¯å¼€å‘æ¨¡å¼ï¼Œä»¥åŠå®ƒå’Œä»¥å¾€çš„å‰ç«¯å¼€å‘æœ‰ä»€ä¹ˆä¸ä¸€æ ·ã€‚
åœ¨å¼€å§‹å…·ä½“çš„æ¡ˆä¾‹ä¹‹å‰ï¼Œå…ˆçœ‹ä¸€ä¸‹ä¼ ç»Ÿå¼€å‘æµç¨‹ã€‚
![](https://cdn.nlark.com/yuque/0/2023/png/785653/1676364755718-bc2ca0de-8c22-47cc-94f2-6e5f347839c9.png#averageHue=%23494b46&clientId=ucf21f50c-80d6-4&from=paste&id=u95167c7a&originHeight=150&originWidth=1402&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=none&taskId=uc9f380cd-95e2-4abc-ac14-fdcf4897bf5&title=)
åœ¨ä¼ ç»Ÿå¼€å‘æµç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å‰ç«¯å·¥ç¨‹å¸ˆå†™é¡µé¢ï¼ŒåŽç«¯å·¥ç¨‹å¸ˆå†™æŽ¥å£ã€‚åŽç«¯å†™å®ŒæŽ¥å£ä¹‹åŽï¼ŒæŠŠæŽ¥å£éƒ¨ç½²äº†ï¼Œå†è¿›è¡Œå‰åŽç«¯è”è°ƒã€‚è”è°ƒå®Œæ¯•åŽå†æµ‹è¯•ã€ä¸Šçº¿ã€‚ä¸Šçº¿ä¹‹åŽï¼Œè¿˜éœ€è¦è¿ç»´å·¥ç¨‹å¸ˆå¯¹ç³»ç»Ÿè¿›è¡Œç»´æŠ¤ã€‚æ•´ä¸ªè¿‡ç¨‹æ¶‰åŠå¤šä¸ªä¸åŒè§’è‰²ï¼Œé“¾è·¯è¾ƒé•¿ï¼Œæ²Ÿé€šåè°ƒä¹Ÿæ˜¯ä¸€ä¸ªé—®é¢˜ã€‚
è€ŒåŸºäºŽ Serverlessï¼ŒåŽç«¯å˜å¾—éžå¸¸ç®€å•äº†ï¼Œä»¥å¾€çš„åŽç«¯åº”ç”¨è¢«æ‹†åˆ†ä¸ºä¸€ä¸ªä¸ªå‡½æ•°ï¼Œåªéœ€è¦å†™å®Œå‡½æ•°å¹¶éƒ¨ç½²åˆ° Serverless æœåŠ¡å³å¯ï¼ŒåŽç»­ä¹Ÿä¸ç”¨å…³å¿ƒä»»ä½•æœåŠ¡å™¨çš„è¿ç»´æ“ä½œã€‚åŽç«¯å¼€å‘çš„é—¨æ§›å¤§å¹…åº¦é™ä½Žäº†ã€‚å› æ­¤ï¼Œåªéœ€è¦ä¸€ä¸ªå‰ç«¯å·¥ç¨‹å¸ˆå°±å¯ä»¥å®Œæˆæ‰€æœ‰çš„å¼€å‘å·¥ä½œã€‚
![](https://cdn.nlark.com/yuque/0/2023/png/785653/1676364755721-3149829c-1703-44ca-83d9-4f6ce0ddea11.png#averageHue=%23259264&clientId=ucf21f50c-80d6-4&from=paste&id=ua21f9424&originHeight=174&originWidth=1136&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=none&taskId=u73ab88a7-b90e-4f6c-93fa-7fb0ed485af&title=)
å½“ç„¶ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆåŸºäºŽ Serverless åŽ»å†™åŽç«¯ï¼Œæœ€å¥½ä¹Ÿéœ€è¦å…·å¤‡ä¸€å®šçš„åŽç«¯çŸ¥è¯†ã€‚æ¶‰åŠå¤æ‚çš„åŽç«¯ç³»ç»Ÿæˆ–è€… Serverless ä¸é€‚ç”¨çš„åœºæ™¯ï¼Œè¿˜æ˜¯éœ€è¦åŽç«¯å¼€å‘ï¼ŒåŽç«¯å˜å¾—æ›´é åŽäº†ã€‚
## BFFçš„è®¤çŸ¥
ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ä¼˜åŠ¿ðŸ‘‡

- å¯ä»¥é™ä½Žæ²Ÿé€šæˆæœ¬ï¼šåŽç«¯åŒå­¦è¿½æ±‚è§£è€¦ï¼Œå¸Œæœ›å®¢æˆ·ç«¯åº”ç”¨å’Œå†…éƒ¨å¾®æœåŠ¡ä¸è€¦åˆï¼Œé€šè¿‡å¼•å…¥BFFè¿™ä¸­é—´å±‚ï¼Œä½¿å¾—ä¸¤è¾¹å¯ä»¥ç‹¬ç«‹å˜åŒ–
- å¤šç«¯åº”ç”¨é€‚é…ï¼šå±•ç¤ºä¸åŒçš„ï¼ˆæˆ–æ›´å°‘é‡çš„ï¼‰æ•°æ®ï¼Œæ¯”å¦‚PCç«¯é¡µé¢è®¾è®¡çš„APIéœ€è¦æ”¯æŒç§»åŠ¨ç«¯ï¼Œå‘çŽ°çŽ°æœ‰æŽ¥å£ä»Žè®¾è®¡åˆ°å®žçŽ°éƒ½ä¸Žæ¡Œé¢UIå±•ç¤ºéœ€æ±‚å¼ºç›¸å…³ï¼Œæ— æ³•ç®€å•é€‚åº”ç§»åŠ¨ç«¯çš„å±•ç¤ºéœ€æ±‚ ï¼Œå°±å¥½æ¯”PCç«¯ä¸€ä¸ªæ–°é—»æŽ¨èæŽ¥å£ï¼ŒæŽ¥å£å­—æ®µPCç«¯éƒ½éœ€è¦ï¼Œè€Œç§»åŠ¨ç«¯å‘¢H5ä¸éœ€è¦ï¼Œè¿™ä¸ªæ—¶å€™æ ¹æ®ä¸åŒç»ˆç«¯åœ¨BFFå±‚åšè°ƒæ•´ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è¿›è¡Œä¸åŒçš„ï¼ˆæˆ–æ›´å°‘çš„ï¼‰APIè°ƒç”¨ï¼ˆèšåˆï¼‰æ¥å‡å°‘httpè¯·æ±‚

æ€»ç»“ï¼šå½“ä½ åœ¨è®¾è®¡ API æ—¶ï¼Œä¼šå› ä¸ºä¸åŒç»ˆç«¯å­˜åœ¨ä¸åŒçš„åŒºåˆ†ï¼Œå®ƒä»¬å¯¹æœåŠ¡ç«¯æä¾›çš„ API è®¿é—®ä¹Ÿå„æœ‰å…¶ç‰¹ç‚¹ï¼Œéœ€è¦åšä¸€äº›åŒºåˆ«å¤„ç†ã€‚è¿™ä¸ªæ—¶å€™å¦‚æžœè€ƒè™‘åœ¨åŽŸæœ‰çš„æŽ¥å£ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œä¼šå› ä¸ºä¿®æ”¹å¯¼è‡´è€¦åˆï¼Œç ´åå…¶å•ä¸€çš„èŒè´£ã€‚
**ç—›ç‚¹**

- é‡å¤å¼€å‘ï¼šæ¯ä¸ªè®¾å¤‡å¼€å‘ä¸€ä¸ª BFF åº”ç”¨ï¼Œä¹Ÿä¼šé¢ä¸´ä¸€äº›é‡å¤å¼€å‘çš„é—®é¢˜å±•ç¤ºï¼Œå¢žåŠ å¼€å‘æˆæœ¬
- ç»´æŠ¤é—®é¢˜ï¼šéœ€è¦ç»´æŠ¤å„ç§ BFF åº”ç”¨ã€‚ä»¥å¾€å‰ç«¯ä¹Ÿä¸éœ€è¦å…³å¿ƒå¹¶å‘ï¼ŒçŽ°åœ¨å¹¶å‘åŽ‹åŠ›å´é›†ä¸­åˆ°äº† BFF ä¸Š
- é“¾è·¯å¤æ‚ï¼šæµç¨‹å˜å¾—ç¹çï¼ŒBFFå¼•å…¥åŽï¼Œè¦åŒæ—¶èµ°å‰ç«¯ã€æœåŠ¡ç«¯çš„ç ”å‘æµç¨‹ï¼Œå¤šç«¯å‘å¸ƒã€äº’ç›¸ä¾èµ–ï¼Œå¯¼è‡´æµç¨‹ç¹ç
- æµªè´¹èµ„æº: BFFå±‚å¤šäº†ï¼Œèµ„æºå ç”¨å°±æˆäº†é—®é¢˜ï¼Œä¼šæµªè´¹èµ„æºï¼Œé™¤éžæœ‰å¼¹æ€§ä¼¸ç¼©æ‰©å®¹
## Serverless
æˆ‘ä»¬å¯ä»¥å°† Serverless æ‹†è§£ä¸º server å’Œ less ä¸¤ä¸ªå•è¯ï¼Œä»Žå­—é¢ä¸ŠæŽ¨æ–­è¯æ„å³ä¸ºâ€œå°‘æœåŠ¡å™¨çš„ï¼Œäº¦æˆ–æ˜¯æ— æœåŠ¡å™¨çš„ï¼Œå¼±åŒ–åŽç«¯å’Œè¿ç»´æ¦‚å¿µ,å½“å‰æ¯”è¾ƒæˆç†Ÿçš„ Serverless äº‘äº§å“ä¸»è¦æœ‰ Amazon Lambdaã€Google Cloud Functionã€Azure Functionã€AliCloud Function Computeã€Tencent CloudBaseç­‰
Serverless = Faas (Function as a service) + Baas (Backend as a service)
![](https://cdn.nlark.com/yuque/0/2023/png/785653/1676364755740-7713d374-3a6e-446a-8438-9180cdb9bf0e.png#averageHue=%23fdfefd&clientId=ucf21f50c-80d6-4&from=paste&id=u8079dd76&originHeight=519&originWidth=1280&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=none&taskId=u9cbe860c-21d2-4c02-8b6c-d1fcc8b1dc3&title=)
### äº‘å‡½æ•°ï¼ˆFaasï¼‰
FaaSï¼ˆFunction-as-a-Serviceï¼‰æ˜¯æœåŠ¡å•†æä¾›ä¸€ä¸ªå¹³å°ã€æä¾›ç»™ç”¨æˆ·å¼€å‘ã€è¿è¡Œç®¡ç†è¿™äº›å‡½æ•°çš„åŠŸèƒ½ï¼Œè€Œæ— éœ€æ­å»ºå’Œç»´æŠ¤åŸºç¡€æ¡†æž¶ï¼Œæ˜¯ä¸€ç§äº‹ä»¶é©±åŠ¨ç”±æ¶ˆæ¯è§¦å‘çš„å‡½æ•°æœåŠ¡
å‰ç«¯åŒå­¦è°ƒç”¨FaasæœåŠ¡å¦‚åŒè°ƒç”¨æœ¬åœ°å‡½æ•°ä¸€æ ·ç®€æ´ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œæ˜¯ä¸€ä¸ªè…¾è®¯äº‘ä¸­ä¸€ä¸ªç®€å•çš„å°ç¨‹åºäº‘å¼€å‘demoï¼Œcloudfunctionæ˜¯ç”¨æ¥å®šä¹‰äº‘å‡½æ•°çš„æ–¹æ³•
### åŽç«¯å³æœåŠ¡ï¼ˆ BaaSï¼‰
BaaSï¼ˆBackend-as-a-Serviceï¼‰åŽç«¯å³æœåŠ¡ï¼ŒåŒ…å«äº†åŽç«¯æœåŠ¡ç»„ä»¶ï¼Œå®ƒæ˜¯åŸºäºŽ API çš„ç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œç”¨äºŽå®žçŽ°åº”ç”¨ç¨‹åºä¸­çš„æ ¸å¿ƒåŠŸèƒ½ï¼ŒåŒ…å«å¸¸ç”¨çš„æ•°æ®åº“ã€å¯¹è±¡å­˜å‚¨ã€æ¶ˆæ¯é˜Ÿåˆ—ã€æ—¥å¿—æœåŠ¡ç­‰ç­‰ã€‚
æ¯”å¦‚è…¾è®¯äº‘äº‘å¼€å‘ä¸­ä¸‹é¢çš„è¿™äº›æœåŠ¡ðŸ‘‡ï¼š

- å¾®ä¿¡å°ç¨‹åºçš„äº‘è°ƒç”¨ [wx-server-sdk](https://link.juejin.cn/?target=https%3A%2F%2Fdevelopers.weixin.qq.com%2Fminiprogram%2Fdev%2Fwxcloud%2Fguide%2Fopenapi%2Fopenapi.html)
- äº‘å¼€å‘æ•°æ®åº“ [wx.cloud.database](https://link.juejin.cn/?target=https%3A%2F%2Fdevelopers.weixin.qq.com%2Fminiprogram%2Fdev%2Fwxcloud%2Freference-client-api%2Fdatabase%2Fdatabase.html)
### Serverlessçš„æž¶æž„
![](https://cdn.nlark.com/yuque/0/2023/png/785653/1676364755863-9bad4f53-789b-4b1b-96a9-6fe0d21a01a4.png#averageHue=%23b0d2e5&clientId=ucf21f50c-80d6-4&from=paste&id=ua8ed3939&originHeight=562&originWidth=1280&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=none&taskId=u64147dea-a3c9-4739-9428-cf18364ee57&title=)
### Serverlessçš„ä¼˜åŠ¿

- çŽ¯å¢ƒç»Ÿä¸€: ä¸éœ€è¦æ­å»ºæœåŠ¡ç«¯çŽ¯å¢ƒ,, ä¿æŒå„ä¸ªæœºå™¨çŽ¯å¢ƒä¸€è‡´ Serverless çš„æœºåˆ¶å¤©ç„¶å¯å¤åˆ¶
- æŒ‰éœ€è®¡è´¹: æˆ‘ä»¬åªåœ¨ä»£ç è¿è¡Œçš„æ—¶å€™ä»˜è´¹ï¼Œæ²¡æœ‰æœªä½¿ç”¨èµ„æºæµªè´¹çš„é—®é¢˜
- ä¸°å¯Œçš„SDK: æœ‰å®Œå–„çš„é…å¥—æœåŠ¡, å¦‚äº‘æ•°æ®åº“, äº‘å­˜å‚¨, äº‘æ¶ˆæ¯é˜Ÿåˆ—, äº‘éŸ³è§†é¢‘å’Œäº‘ AI æœåŠ¡ç­‰
- å¼¹æ€§ä¼¸ç¼©: ä¸éœ€è¦é¢„ä¼°æµé‡, å…³å¿ƒèµ„æºåˆ©ç”¨çŽ‡, å¤‡ä»½å®¹ç¾, æ‰©å®¹æœºå™¨ ï¼Œå¯ä»¥æ ¹æ®æµé‡åŠ¨æ€æå‰å³°å€¼æµé‡

![](https://cdn.nlark.com/yuque/0/2023/png/785653/1676364755704-98906df9-eeab-4e68-9ad5-f24046c23f1e.png#averageHue=%23fbfbfb&clientId=ucf21f50c-80d6-4&from=paste&id=u4c6987b1&originHeight=407&originWidth=1059&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=none&taskId=u50b274cd-6e9f-43cb-8524-a3ec6291fef&title=)
â
â€œ Serverless å¸¦æ¥çš„å…¶å®žæ˜¯å‰ç«¯ç ”å‘æ¨¡å¼ä¸Šçš„é¢ è¦†ã€‚ç›¸å¯¹ä»¥å¾€çº¯å‰ç«¯ç ”å‘çš„æ–¹å¼ï¼ŒServerless å±è”½åº•å±‚åŸºç¡€è®¾æ–½çš„å¤æ‚åº¦ï¼ŒåŽå°èƒ½åŠ›é€šè¿‡FaaSå¹³å°åŒ–ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦å…³æ³¨è¿ç»´ã€éƒ¨ç½²çš„ç»†èŠ‚ï¼Œå¼€å‘éš¾åº¦å¾—åˆ°äº†ç®€åŒ–ï¼Œå‰ç«¯å¼€å‘ç¾¤ä½“çš„è¾¹ç•Œå°±å¾—ä»¥æ‹“å®½ï¼Œèƒ½å¤Ÿå‚ä¸Žåˆ°ä¸šåŠ¡é€»è¾‘çš„å¼€å‘å½“ä¸­ï¼Œæ›´åŠ è´´è¿‘å’Œç†è§£ä¸šåŠ¡ï¼Œåšæ›´æœ‰ä»·å€¼çš„è¾“å‡ºã€‚â€
âž
### Serverlessçš„ç¼ºç‚¹

- äº‘åŽ‚å•†å¼ºç»‘å®šï¼šå®ƒä»¬å¸¸å¸¸ä¼šå’ŒåŽ‚å•†çš„å…¶ä»–äº‘äº§å“ç›¸ç»‘å®šï¼Œå¦‚å¯¹è±¡å­˜å‚¨ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰ï¼Œæ„å‘³ä½ éœ€è¦åŒæ—¶å¼€é€šå…¶ä»–çš„æœåŠ¡ï¼Œè¿ç§»æˆæœ¬é«˜ï¼Œå¦‚æžœæƒ³è¿ç§»åŸºæœ¬åŽŸæœ‰çš„é€»è¾‘ä¸å¯æœç”¨ï¼Œkenneléœ€è¦é‡æž„
- ä¸é€‚åˆé•¿æ—¶é—´ä»»åŠ¡ï¼šäº‘å‡½æ•°å¹³å°ä¼šé™åˆ¶å‡½æ•°æ‰§è¡Œæ—¶é—´ï¼Œå¦‚é˜¿é‡Œäº‘ Function Compute æœ€å¤§æ‰§è¡Œæ—¶é•¿ä¸º 10 min
- å†·å¯åŠ¨æ—¶é—´ï¼šå‡½æ•°è¿è¡Œæ—¶ï¼Œæ‰§è¡Œå®¹å™¨å’ŒçŽ¯å¢ƒéœ€è¦ä¸€å®šçš„æ—¶é—´ï¼Œå¯¹ HTTP è¯·æ±‚æ¥è®²ï¼Œå¯èƒ½ä¼šå¸¦æ¥å“åº”æ—¶å»¶çš„å¢žåŠ 
- è°ƒè¯•ä¸Žæµ‹è¯•ï¼šå¼€å‘è€…éœ€è¦ä¸æ–­è°ƒæ•´ä»£ç ï¼Œæ‰“å°æ—¥å¿—ï¼Œå¹¶æäº¤åˆ°å‡½æ•°å¹³å°è¿è¡Œæµ‹è¯•ï¼Œä¼šå¸¦æ¥å¼€å‘æˆæœ¬å’Œäº§ç”Ÿè´¹ç”¨

![](https://cdn.nlark.com/yuque/0/2023/png/785653/1676364759234-b7912fb4-5623-43e8-9136-d71fd2007b79.png#averageHue=%23f5f5f5&clientId=ucf21f50c-80d6-4&from=paste&id=u788ff9d6&originHeight=245&originWidth=806&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=none&taskId=u3004815a-8095-423d-92b4-3cbfdd2c498&title=)
## åŸºäºŽ Serverless çš„æœåŠ¡ç«¯æ¸²æŸ“
åŸºäºŽå½“ä¸‹æœ€æµè¡Œçš„ä¸‰å¤§å‰ç«¯æ¡†æž¶ï¼ˆReact.js/Anguler/Vue.jsï¼‰ï¼ŒçŽ°åœ¨çš„æ¸²æŸ“æ–¹å¼å¤§éƒ¨åˆ†éƒ½æ˜¯å®¢æˆ·ç«¯æ¸²æŸ“ã€‚é¡µé¢åˆå§‹åŒ–çš„æ—¶å€™ï¼ŒåªåŠ è½½ä¸€ä¸ªç®€å• HTML ä»¥åŠå¯¹åº”çš„ JS æ–‡ä»¶ï¼Œå†ç”± JS æ¥æ¸²æŸ“å‡ºä¸€ä¸ªä¸ªé¡µé¢ã€‚è¿™ç§æ–¹å¼æœ€ä¸»è¦çš„é—®é¢˜å°±æ˜¯ç™½å±æ—¶é—´å’Œ SEOã€‚
ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå‰ç«¯åˆå¼€å§‹å°è¯•æœåŠ¡ç«¯æ¸²æŸ“ã€‚æœ¬è´¨æ€æƒ³å…¶å®žå’Œæœ€æ—©çš„æ¨¡æ¿æ¸²æŸ“æ˜¯ä¸€æ ·çš„ã€‚éƒ½æ˜¯å‰ç«¯å‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼ŒåŽç«¯ Server è§£æžå‡ºä¸€ä¸ª HTML æ–‡æ¡£ï¼Œç„¶åŽå†è¿”å›žç»™æµè§ˆå™¨ã€‚åªä¸è¿‡ä»¥å¾€æ˜¯ JSPã€PHP ç­‰æœåŠ¡ç«¯è¯­è¨€çš„æ¨¡æ¿ï¼ŒçŽ°åœ¨æ˜¯åŸºäºŽ Reactã€Vue ç­‰å®žçŽ°çš„åŒæž„åº”ç”¨ï¼Œè¿™ä¹Ÿæ˜¯å¦‚ä»Šçš„æœåŠ¡ç«¯æ¸²æŸ“æ–¹æ¡ˆçš„ä¼˜åŠ¿ã€‚
ä½†æœåŠ¡ç«¯æ¸²æŸ“åˆä¸ºå‰ç«¯å¸¦æ¥äº†ä¸€äº›é¢å¤–çš„é—®é¢˜ï¼šè¿ç»´æˆæœ¬ï¼Œå‰ç«¯éœ€è¦ç»´æŠ¤ç”¨äºŽæ¸²æŸ“çš„æœåŠ¡å™¨ã€‚
Serverless æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯å¯ä»¥å¸®æˆ‘ä»¬å‡å°‘è¿ç»´ï¼Œé‚£ Serverless èƒ½ä¸èƒ½ç”¨äºŽæœåŠ¡ç«¯æ¸²æŸ“å‘¢ï¼Ÿå½“ç„¶ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚
ä¼ ç»Ÿçš„æœåŠ¡ç«¯æ¸²æŸ“ï¼Œæ¯ä¸ªè¯·æ±‚çš„ path éƒ½å¯¹åº”ç€æœåŠ¡ç«¯çš„æ¯ä¸ªè·¯ç”±ï¼Œç”±è¯¥è·¯ç”±å®žçŽ°å¯¹åº” path çš„ HTML æ–‡æ¡£æ¸²æŸ“ã€‚ç”¨äºŽæ¸²æŸ“çš„æœåŠ¡ç«¯ç¨‹åºï¼Œå°±æ˜¯è¿™äº›é›†æˆäº†è¿™äº›è·¯ç”±çš„åº”ç”¨ã€‚
ä½¿ç”¨ Serverless æ¥åšæœåŠ¡ç«¯æ¸²æŸ“ï¼Œå°±æ˜¯å°†ä»¥å¾€çš„æ¯ä¸ªè·¯ç”±ï¼Œéƒ½æ‹†åˆ†ä¸ºä¸€ä¸ªä¸ªå‡½æ•°ï¼Œå†åœ¨ FaaS ä¸Šéƒ¨ç½²å¯¹åº”çš„å‡½æ•°ã€‚è¿™æ ·ç”¨æˆ·è¯·æ±‚çš„ pathï¼Œå¯¹åº”çš„å°±æ˜¯æ¯ä¸ªå•ç‹¬çš„å‡½æ•°ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå°±å°†è¿ç»´æ“ä½œè½¬ç§»åˆ°äº† FaaS å¹³å°ï¼Œå‰ç«¯åšæœåŠ¡ç«¯æ¸²æŸ“ï¼Œå°±ä¸ç”¨å†å…³å¿ƒæœåŠ¡ç«¯ç¨‹åºçš„è¿ç»´éƒ¨ç½²äº†ã€‚
![](https://cdn.nlark.com/yuque/0/2023/png/785653/1676364759230-e9fa681f-fe61-4f53-914e-66ba4b236af7.png#averageHue=%23325a75&clientId=ucf21f50c-80d6-4&from=paste&id=ud4de1a60&originHeight=668&originWidth=1706&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=none&taskId=u77711671-09f3-4a9e-89fd-316ac6d9a43&title=)
[ZEIT](https://link.juejin.cn/?target=https%3A%2F%2Fzeit.co) çš„ [Next.js](https://link.juejin.cn/?target=https%3A%2F%2Fnextjs.org%2Fdocs%2F%23serverless-deployment) å°±å¯¹åŸºäºŽ Serverless çš„æœåŠ¡ç«¯æ¸²æŸ“åšäº†å¾ˆå¥½çš„å®žçŽ°ã€‚ä¸‹é¢å°±æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚
ä»£ç ç»“æž„å¦‚ä¸‹ï¼š
.
â”œâ”€â”€ next.config.js
â”œâ”€â”€ now.json
â”œâ”€â”€ package.json
â””â”€â”€ pages
 Â  Â â”œâ”€â”€ about.js
 Â  Â â””â”€â”€ index.js
// next.config.js
module.exports = {
 Â target: 'serverless'
}
å…¶ä¸­ pages/about.js å’Œ pages/index.js å°±æ˜¯ä¸¤ä¸ªé¡µé¢ï¼Œåœ¨ next.config.js é…ç½®äº†ä½¿ç”¨ Zeit æä¾›çš„ Serverless æœåŠ¡ã€‚
ç„¶åŽä½¿ç”¨ now è¿™ä¸ªå‘½ä»¤ï¼Œå°±å¯ä»¥å°†ä»£ç ä»¥ Serverless çš„æ–¹å¼éƒ¨ç½²ã€‚éƒ¨ç½²è¿‡ç¨‹ä¸­ï¼Œpages/about.js å’Œ pages/index.js å°±åˆ†åˆ«è½¬æ¢ä¸ºä¸¤ä¸ªå‡½æ•°ï¼Œè´Ÿè´£æ¸²æŸ“å¯¹åº”çš„é¡µé¢ã€‚
![](https://cdn.nlark.com/yuque/0/2023/png/785653/1676364759234-6432c91d-7f27-4cb9-bc2f-ef324012d9f2.png#averageHue=%23f4f4f4&clientId=ucf21f50c-80d6-4&from=paste&id=u3dd45807&originHeight=630&originWidth=1214&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=none&taskId=u5f9d5aac-9f02-4555-822d-9b51c03d1a9&title=)
## åŸºäºŽ Serverless çš„å°ç¨‹åºå¼€å‘
ç›®å‰å›½å†…ä½¿ç”¨ Serverless è¾ƒå¤šçš„åœºæ™¯å¯èƒ½å°±æ˜¯å°ç¨‹å¼€å‘äº†ã€‚å…·ä½“çš„å®žçŽ°å°±æ˜¯å°ç¨‹åºäº‘å¼€å‘ï¼Œæ”¯ä»˜å®å°ç¨‹åºå’Œå¾®ä¿¡å°ç¨‹åºéƒ½æä¾›äº†äº‘å¼€å‘åŠŸèƒ½ã€‚
åœ¨ä¼ ç»Ÿçš„å°ç¨‹åºå¼€å‘ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å‰ç«¯å·¥ç¨‹å¸ˆè¿›è¡Œå°ç¨‹åºç«¯çš„å¼€å‘ï¼›åŽç«¯å·¥ç¨‹å¸ˆè¿›è¡ŒæœåŠ¡ç«¯çš„å¼€å‘ã€‚å°ç¨‹åºçš„åŽç«¯å¼€å‘å’Œå…¶ä»–çš„åŽç«¯åº”ç”¨å¼€å‘ï¼Œæœ¬è´¨æ˜¯æ˜¯ä¸€æ ·çš„ï¼Œéœ€è¦å…³å¿ƒåº”ç”¨çš„è´Ÿè½½å‡è¡¡ã€å¤‡ä»½å†—ç¾ã€ç›‘æŽ§æŠ¥è­¦ç­‰ä¸€äº›åˆ—éƒ¨ç½²è¿ç»´æ“ä½œã€‚å¦‚æžœå¼€å‘å›¢é˜Ÿäººå¾ˆå°‘ï¼Œå¯èƒ½è¿˜éœ€è¦å‰ç«¯å·¥ç¨‹å¸ˆåŽ»å®žçŽ°æœåŠ¡ç«¯ã€‚
ä½†åŸºäºŽäº‘å¼€å‘ï¼Œå°±åªéœ€è¦è®©å¼€å‘è€…å…³æ³¨äºŽä¸šåŠ¡çš„å®žçŽ°ï¼Œç”±ä¸€ä¸ªå‰ç«¯å·¥ç¨‹å¸ˆå°±èƒ½å¤Ÿå®Œæˆæ•´ä¸ªåº”ç”¨çš„å‰åŽç«¯å¼€å‘ã€‚å› ä¸ºäº‘å¼€å‘å°†åŽç«¯å°è£…ä¸ºäº† BaaS æœåŠ¡ï¼Œå¹¶æä¾›äº†å¯¹åº”çš„ SDK ç»™å¼€å‘è€…ï¼Œå¼€å‘è€…å¯ä»¥åƒè°ƒç”¨å‡½æ•°ä¸€æ ·ä½¿ç”¨å„ç§åŽç«¯æœåŠ¡ã€‚åº”ç”¨çš„è¿ç»´ä¹Ÿè½¬ç§»åˆ°äº†æä¾›äº‘å¼€å‘çš„æœåŠ¡å•†ã€‚
![](https://cdn.nlark.com/yuque/0/2023/png/785653/1676364759315-766642c3-4ada-45a5-b0be-8f2104dd44c6.png#averageHue=%23f0e0b7&clientId=ucf21f50c-80d6-4&from=paste&id=u7426455e&originHeight=640&originWidth=1480&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=none&taskId=u49c2ceaa-533a-49af-a4e7-71230b1b268&title=)
ä¸‹é¢åˆ†åˆ«æ˜¯ä½¿ç”¨[æ”¯ä»˜å®äº‘å¼€å‘ï¼ˆBasementï¼‰](https://link.juejin.cn/?target=https%3A%2F%2Fdocs.alipay.com%2Fmini%2Fdeveloper%2Ftodo-basement)çš„ä¸€äº›ä¾‹å­ï¼Œå‡½æ•°å°±æ˜¯å®šä¹‰åœ¨ FaaS æœåŠ¡ä¸­çš„å‡½æ•°ã€‚

æ“ä½œæ•°æ®åº“
```javascript
// `basement` æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡
// æ“ä½œæ•°æ®åº“
basement.db.collection('users')
	.insertOne({
		name: 'node',
		age: 18,
	})
	.then(() => {
		resolve({ success: true });
	})
	.catch(err => {
		reject({ success: false });
	});
```

**ä¸Šä¼ å›¾ç‰‡**

```javascript
// ä¸Šä¼ å›¾ç‰‡
basement.file
	.uploadFile(options)
	.then((image) => {
		this.setData({
			iconUrl: image.fileUrl,
		});
	})
	.catch(console.error);
```

**è°ƒç”¨å‡½æ•°**

```javascript
// è°ƒç”¨å‡½æ•°
basement.function
	.invoke('getUserInfo')
	.then((res) => { 
		this.setData({ 
			user: res.result
		});
	})
	.catch(console.error}
```
